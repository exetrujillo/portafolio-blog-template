const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BmUevyQw.js","./BfL-rv32.js"])))=>i.map(i=>d[i]);
import{q as R,R as U,S as L,U as D,J as T,V as O,r as q,W as C,X as W,x as V,h as F,Y as M,G as Q,Z as H,$ as K,a0 as Y,a1 as z,Q as G}from"./BfL-rv32.js";const Z={trailing:!0};function J(e,r=25,i={}){if(i={...Z,...i},!Number.isFinite(r))throw new TypeError("Expected `wait` to be a finite number");let s,t,a=[],n,l;const c=(f,o)=>(n=X(e,f,o),n.finally(()=>{if(n=null,i.trailing&&l&&!t){const _=c(f,l);return l=null,_}}),n);return function(...f){return n?(i.trailing&&(l=f),n):new Promise(o=>{const _=!t&&i.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const d=i.leading?s:c(this,f);for(const m of a)m(d);a=[]},r),_?(s=c(this,f),o(s)):a.push(o)})}}async function X(e,r,i){return await e.apply(r,i)}const x=e=>e==="defer"||e===!1;function re(...e){var S,N;const r=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&typeof e[0]!="object"&&!(typeof e[0]=="function"&&typeof e[1]=="function")&&e.unshift(r);let[i,s,t={}]=e;const a=R(()=>U(i));if(typeof a.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof s!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const n=L(),l=()=>D.value,c=(y,h,v)=>{if(h.isHydrating)return h.payload.data[y];if(v.cause!=="refresh:manual"&&v.cause!=="refresh:hook")return h.static.data[y]};t.server??(t.server=!0),t.default??(t.default=l),t.getCachedData??(t.getCachedData=c),t.lazy??(t.lazy=!1),t.immediate??(t.immediate=!0),t.deep??(t.deep=D.deep),t.dedupe??(t.dedupe="cancel"),t._functionName,n._asyncData[a.value];const f=t.getCachedData(a.value,n,{cause:"initial"}),o=(S=n._asyncData)[N=a.value]??(S[N]=B(n,a.value,s,t,f));o._deps++;const _=()=>n._asyncData[a.value].execute({cause:"initial",dedupe:t.dedupe}),d=t.server!==!1&&n.payload.serverRendered;{let y=function(u){const g=n._asyncData[u];g!=null&&g._deps&&(g._deps--,g._deps===0&&(g==null||g._off(),j(n,u),n._asyncData[u].data.value=D.value))};const h=Q();if(h&&d&&t.immediate&&!h.sp&&(h.sp=[]),h&&!h._nuxtOnBeforeMountCbs){h._nuxtOnBeforeMountCbs=[];const u=h._nuxtOnBeforeMountCbs;H(()=>{u.forEach(g=>{g()}),u.splice(0,u.length)}),K(()=>u.splice(0,u.length))}d&&n.isHydrating&&(o.error.value||f!=null)?(o.pending.value=!1,o.status.value=o.error.value?"error":"success"):h&&(n.payload.serverRendered&&n.isHydrating||t.lazy)&&t.immediate?h._nuxtOnBeforeMountCbs.push(_):t.immediate&&_();const v=M();if(t.watch){const u=T(t.watch,()=>o._execute({cause:"watch",dedupe:t.dedupe}),{flush:"post"});v&&O(u)}const I=T(a,(u,g)=>{var P;g&&y(g),n._asyncData[u]||((P=n._asyncData)[u]??(P[u]=B(n,u,s,t,t.getCachedData(u,n,{cause:"initial"})))),n._asyncData[u]._deps++,t.immediate&&n._asyncData[u].execute({cause:"initial",dedupe:t.dedupe})});v&&O(()=>{I(),y(a.value)})}const m={data:$(()=>n._asyncData[a.value].data),pending:$(()=>n._asyncData[a.value].pending),status:$(()=>n._asyncData[a.value].status),error:$(()=>n._asyncData[a.value].error),refresh:(...y)=>n._asyncData[a.value].execute(...y),execute:(...y)=>n._asyncData[a.value].execute(...y),clear:()=>j(n,a.value)},w=Promise.resolve(n._asyncDataPromises[a.value]).then(()=>m);return Object.assign(w,m),w}function $(e){return R({get(){return e().value},set(r){e().value=r}})}function j(e,r){r in e.payload.data&&(e.payload.data[r]=void 0),r in e.payload._errors&&(e.payload._errors[r]=D.errorValue),e._asyncData[r]&&(e._asyncData[r].data.value=void 0,e._asyncData[r].error.value=D.errorValue,e._asyncData[r].pending.value=!1,e._asyncData[r].status.value="idle"),r in e._asyncDataPromises&&(e._asyncDataPromises[r]&&(e._asyncDataPromises[r].cancelled=!0),e._asyncDataPromises[r]=void 0)}function A(e,r){const i={};for(const s of r)i[s]=e[s];return i}function B(e,r,i,s,t){var f;(f=e.payload._errors)[r]??(f[r]=D.errorValue);const a=i,n=s.deep?q:C,l=t!=null,c={data:n(l?t:s.default()),pending:C(!l),error:W(e.payload._errors,r),status:C("idle"),execute:(o={})=>{if(e._asyncDataPromises[r]){if(x(o.dedupe??s.dedupe))return e._asyncDataPromises[r];e._asyncDataPromises[r].cancelled=!0}if(o.cause==="initial"||e.isHydrating){const d=o.cause==="initial"?t:s.getCachedData(r,e,{cause:o.cause??"refresh:manual"});if(d!=null)return e.payload.data[r]=c.data.value=d,c.error.value=D.errorValue,c.status.value="success",Promise.resolve(d)}c.pending.value=!0,c.status.value="pending";const _=new Promise((d,m)=>{try{d(a(e))}catch(w){m(w)}}).then(async d=>{if(_.cancelled)return e._asyncDataPromises[r];let m=d;s.transform&&(m=await s.transform(d)),s.pick&&(m=A(m,s.pick)),e.payload.data[r]=m,c.data.value=m,c.error.value=D.errorValue,c.status.value="success"}).catch(d=>{if(_.cancelled)return e._asyncDataPromises[r];c.error.value=V(d),c.data.value=F(s.default()),c.status.value="error"}).finally(()=>{_.cancelled||(c.pending.value=!1,delete e._asyncDataPromises[r])});return e._asyncDataPromises[r]=_,e._asyncDataPromises[r]},_execute:J((...o)=>c.execute(...o),0,{leading:!0}),_default:s.default,_deps:0,_hash:void 0,_off:e.hook("app:data:refresh",async o=>{(!o||o.includes(r))&&await c.execute({cause:"refresh:hook"})})};return c}const se={portfolio:"v3.5.0--eWgA2L-qmht44KzUj4rcjtEJq6qp2WaYzvtekErqtsU",blog:"v3.5.0--v_d0fvp9Ekf7uILpZYOlb3Bc8KRQ_4cAkD_bd8sZ-Co"},k={portfolio:"_content_portfolio",blog:"_content_blog",info:"_content_info"},ie={portfolio:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",date:"string",tags:"json",image:"string"}},blog:{type:"page",fields:{id:"string",stem:"string",extension:"string",meta:"json",path:"string",title:"string",description:"string",seo:"json",body:"json",navigation:"json",date:"string",tags:"json",image:"string"}},info:{type:"data",fields:{}}},E=(e,r)=>{const i=e._conditions;return i.length>0?`(${i.join(` ${r} `)})`:""},p=e=>{const r=[],i={_conditions:r,where(s,t,a){let n;switch(t.toUpperCase()){case"IN":case"NOT IN":if(Array.isArray(a)){const l=a.map(c=>b(c)).join(", ");n=`"${String(s)}" ${t.toUpperCase()} (${l})`}else throw new TypeError(`Value for ${t} must be an array`);break;case"BETWEEN":case"NOT BETWEEN":if(Array.isArray(a)&&a.length===2)n=`"${String(s)}" ${t.toUpperCase()} ${b(a[0])} AND ${b(a[1])}`;else throw new Error(`Value for ${t} must be an array with two elements`);break;case"IS NULL":case"IS NOT NULL":n=`"${String(s)}" ${t.toUpperCase()}`;break;case"LIKE":case"NOT LIKE":n=`"${String(s)}" ${t.toUpperCase()} ${b(a)}`;break;default:n=`"${String(s)}" ${t} ${b(typeof a=="boolean"?Number(a):a)}`}return r.push(`${n}`),i},andWhere(s){const t=s(p());return r.push(E(t,"AND")),i},orWhere(s){const t=s(p());return r.push(E(t,"OR")),i}};return i},ee=(e,r)=>{const i={conditions:[],selectedFields:[],offset:0,limit:0,orderBy:[],count:{field:"",distinct:!1}},s={__params:i,andWhere(a){const n=a(p());return i.conditions.push(E(n,"AND")),s},orWhere(a){const n=a(p());return i.conditions.push(E(n,"OR")),s},path(a){return s.where("path","=",Y(a))},skip(a){return i.offset=a,s},where(a,n,l){return s.andWhere(c=>c.where(String(a),n,l)),s},limit(a){return i.limit=a,s},select(...a){return a.length&&i.selectedFields.push(...a),s},order(a,n){return i.orderBy.push(`"${String(a)}" ${n}`),s},async all(){return r(e,t()).then(a=>a||[])},async first(){return r(e,t({limit:1})).then(a=>a[0]||null)},async count(a="*",n=!1){return r(e,t({count:{field:String(a),distinct:n}})).then(l=>l[0].count)}};function t(a={}){let n="SELECT ";if(a!=null&&a.count)n+=`COUNT(${a.count.distinct?"DISTINCT ":""}${a.count.field}) as count`;else{const c=Array.from(new Set(i.selectedFields));n+=c.length>0?c.map(f=>`"${String(f)}"`).join(", "):"*"}n+=` FROM ${k[String(e)]}`,i.conditions.length>0&&(n+=` WHERE ${i.conditions.join(" AND ")}`),i.orderBy.length>0?n+=` ORDER BY ${i.orderBy.join(", ")}`:n+=" ORDER BY stem ASC";const l=(a==null?void 0:a.limit)||i.limit;return l>0&&(i.offset>0?n+=` LIMIT ${l} OFFSET ${i.offset}`:n+=` LIMIT ${l}`),n}return s};function b(e){return`'${String(e).replace(/'/g,"''")}'`}const ce=e=>{var i,s;const r=(s=(i=z())==null?void 0:i.ssrContext)==null?void 0:s.event;return ee(e,(t,a)=>ae(r,t,a))};async function ae(e,r,i){return te(r,i)}async function te(e,r){return await G(()=>import("./BmUevyQw.js"),__vite__mapDeps([0,1]),import.meta.url).then(s=>s.loadDatabaseAdapter(e)).then(s=>s.all(r))}export{ie as a,se as c,ce as q,k as t,re as u};
