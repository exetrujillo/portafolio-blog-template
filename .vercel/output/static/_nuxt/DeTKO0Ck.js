import{f,r as _,g as y,q as b,c as a,a as o,l as c,D as r,p as C,a2 as $,ab as w,E as i,o as n}from"./BfL-rv32.js";const k={class:"max-w-6xl mx-auto py-8 px-4"},E={class:"mb-8"},H={class:"text-4xl font-bold mt-4 mb-2",style:{color:"var(--ui-primary)"}},B={key:0,class:"italic text-xl mb-4",style:{color:"var(--ui-text)"}},N={class:"flex flex-wrap gap-2 mb-4"},S={class:"text-sm text-ui-text opacity-75 mb-6"},q={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-start"},T={class:"lg:col-span-2"},D={key:0,class:"mb-8"},L={class:"prose dark:prose-invert max-w-none",style:{color:"var(--ui-text)"}},V={class:"lg:col-span-1 sticky top-8 self-start portfolio-toc-container"},j={key:0,class:"border p-4 rounded-lg",style:{borderColor:"var(--ui-border)",backgroundColor:"var(--ui-code-block-bg)",color:"var(--ui-text)"}},I=f({__name:"portfolio-project",setup(z){const d=_([]),x=async()=>{await w();const t=document.querySelector(".prose");if(!t){console.warn("Contenedor .prose no encontrado en el layout. No se puede generar el índice.");return}const e=t.querySelectorAll("h2, h3, h4, h5, h6"),l=[];e.forEach(s=>{var g,v;const h=parseInt(s.tagName.substring(1)),m=s.id||((g=s.textContent)==null?void 0:g.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/^(\d)/,"_$1"));!m||!((v=s.textContent)!=null&&v.trim())||l.push({id:m,text:s.textContent.trim(),level:h,children:[]})}),d.value=l};y(()=>{setTimeout(x,150)});const p=b(()=>{const t=[],e=[];return d.value.forEach(l=>{const s={id:l.id,text:l.text,level:l.level,children:[]};for(;e.length>0&&e[e.length-1].level>=s.level;)e.pop();e.length>0?e[e.length-1].children.push(s):s.level>=2?(t.push(s),e.push(s)):(console.warn(`Encabezado de nivel inesperado ${s.level} encontrado al principio del procesamiento. Se esperaba H2+.`),t.push(s)),s.level<6&&e.push(s)}),t});function u(t){return!t||t.length===0?null:i("ul",{class:"ml-4 space-y-1"},t.map(e=>i("li",{key:e.id},[i("a",{href:`#${e.id}`,class:"text-sm hover:underline text-ui-text"},e.text),e.children&&e.children.length>0?u(e.children):null])))}return(t,e)=>(n(),a("div",k,[o("div",E,[o("h1",H,[r(t.$slots,"title")]),t.$slots.description?(n(),a("p",B,[r(t.$slots,"description")])):c("",!0),o("div",N,[r(t.$slots,"tags")]),o("div",S,[r(t.$slots,"meta")])]),o("div",q,[o("div",T,[t.$slots.image?(n(),a("div",D,[r(t.$slots,"image")])):c("",!0),o("div",L,[r(t.$slots,"default")])]),o("div",V,[p.value.length>0?(n(),a("div",j,[e[0]||(e[0]=o("h2",{class:"text-lg font-semibold mb-3",style:{color:"var(--ui-highlight)"}}," Índice del Proyecto ",-1)),(n(),C($(u(p.value))))])):c("",!0)])])]))}});export{I as default};
